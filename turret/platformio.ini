; The Sentry â€” Turret (Motorized Fan Base)
; Target: ESP32 DevKit v1

[env:esp32]
platform  = espressif32
board     = esp32dev
framework = arduino

; Upload over USB (auto-detect COM port)
upload_speed = 921600
; upload_port  = COM3          ; Uncomment & set if auto-detect fails

; Library dependencies
lib_deps =
    madhephaestus/ESP32Servo @ ^3.0.5

; Compiler flags
build_flags =
    -Wall
    -Wextra
    -Os

; Serial monitor baud rate (matches Serial.begin() in main.cpp)
monitor_speed = 115200

; --- Native test environment (host-side unit tests) ---
[env:native]
platform = native
build_flags =
    -Wall
    -Wextra
    -std=c++17
    -DUNIT_TEST
lib_deps =
    throwtheswitch/Unity @ ^2.5.2
test_build_src = yes
